{% extends 'base.html' %}
{% block title %} {{t}} {% endblock %}
{% block styles %}
<link rel="stylesheet" href="https://cdn.datatables.net/2.0.2/css/dataTables.dataTables.css" />
{% endblock styles %}
{% block content %}
<main class="container category">
    <h1>ADD Categories</h1>
<div style="overflow">
  <a href="{% url 'category.add' %}" class="btn btn-primary mt-2">Add New Category</a>

    {% csrf_token %}
    <table class="table" id="example">





        <thead>
            <tr>
                <th>Name</th>
                <th>Slug</th>
                <th>Parent</th>
                <th>Description</th>
                <th>Added</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
          <tr>
            {% if not forms.instance.id %}
              {% include 'savecategory.html' %}
            {% endif %}
          </tr>





            {% for a in Category %}

            <tr>
              {% if forms.instance.id == a.id %}
              {% include 'savecategory.html' %}
          {% else %}
            
              <td>{{ a.name }}</td>
              <td>{{ a.slug }}</td>
              <td>{{ a.parent }}</td>
              <td>{{ a.description }}</td>
              <td>{{ a.added}}</td>
              <td>
                <button formnovalidate name="edit" value="{{a.id}}" class="btn btn-sm btn-warning">Edit</button>
            <button formnovalidate onclick=" return confirm('do you want to delete?')" 
            name="delete" value="{{a.id}}" class="btn btn-sm btn-danger">Delete</button>
          </td>
          {% endif%}
            </tr>
            {% endfor %}
          </tbody>

    </table>
  </form>

</div>
</main>

{% endblock %}
{% block script %}
<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
<script src="https://cdn.datatables.net/2.0.2/js/dataTables.js"></script>
<script>
    var table = new DataTable('#example');
</script>
{% endblock %}